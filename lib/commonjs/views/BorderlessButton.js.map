{"version":3,"sources":["BorderlessButton.tsx"],"names":["AnimatedBaseButton","Animated","createAnimatedComponent","BaseButton","BorderlessButton","React","Component","Value","active","Platform","OS","spring","opacity","stiffness","damping","mass","overshootClamping","restDisplacementThreshold","restSpeedThreshold","toValue","props","activeOpacity","useNativeDriver","start","onActiveStateChange","render","children","style","enabled","rest","handleActiveStateChange","borderless"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;;;;;AAEA,MAAMA,kBAAkB,GAAGC,sBAASC,uBAAT,CAAiCC,qCAAjC,CAA3B;;AAMe,MAAMC,gBAAN,SAA+BC,KAAK,CAACC,SAArC,CAAsD;AAAA;AAAA;;AAAA,qCAMjD,IAAIL,sBAASM,KAAb,CAAmB,CAAnB,CANiD;;AAAA,qDAQhCC,MAAD,IAAqB;AACrD,UAAIC,sBAASC,EAAT,KAAgB,SAApB,EAA+B;AAC7BT,8BAASU,MAAT,CAAgB,KAAKC,OAArB,EAA8B;AAC5BC,UAAAA,SAAS,EAAE,IADiB;AAE5BC,UAAAA,OAAO,EAAE,GAFmB;AAG5BC,UAAAA,IAAI,EAAE,CAHsB;AAI5BC,UAAAA,iBAAiB,EAAE,IAJS;AAK5BC,UAAAA,yBAAyB,EAAE,IALC;AAM5BC,UAAAA,kBAAkB,EAAE,IANQ;AAO5BC,UAAAA,OAAO,EAAEX,MAAM,GAAG,KAAKY,KAAL,CAAWC,aAAd,GAA8B,CAPjB;AAQ5BC,UAAAA,eAAe,EAAE;AARW,SAA9B,EASGC,KATH;AAUD;;AAED,WAAKH,KAAL,CAAWI,mBAAX,IAAkC,KAAKJ,KAAL,CAAWI,mBAAX,CAA+BhB,MAA/B,CAAlC;AACD,KAvBkE;AAAA;;AAyBnEiB,EAAAA,MAAM,GAAG;AACP,wBAA8C,KAAKL,KAAnD;AAAA,UAAM;AAAEM,MAAAA,QAAF;AAAYC,MAAAA,KAAZ;AAAmBC,MAAAA;AAAnB,KAAN;AAAA,UAAqCC,IAArC;;AAEA,wBACE,oBAAC,kBAAD,eACMA,IADN;AAEE,MAAA,mBAAmB,EAAE,KAAKC,uBAF5B;AAGE,MAAA,KAAK,EAAE,CACLH,KADK,EAELlB,sBAASC,EAAT,KAAgB,KAAhB,IAAyBkB,OAAzB,IAAoC;AAAEhB,QAAAA,OAAO,EAAE,KAAKA;AAAhB,OAF/B;AAHT,QAQGc,QARH,CADF;AAYD;;AAxCkE;;;;gBAAhDtB,gB,kBACG;AACpBiB,EAAAA,aAAa,EAAE,GADK;AAEpBU,EAAAA,UAAU,EAAE;AAFQ,C","sourcesContent":["import * as React from 'react';\nimport { Animated, Platform } from 'react-native';\nimport { BaseButton } from 'react-native-gesture-handler';\n\nconst AnimatedBaseButton = Animated.createAnimatedComponent(BaseButton);\n\ntype Props = React.ComponentProps<typeof BaseButton> & {\n  activeOpacity: number;\n};\n\nexport default class BorderlessButton extends React.Component<Props> {\n  static defaultProps = {\n    activeOpacity: 0.3,\n    borderless: true,\n  };\n\n  private opacity = new Animated.Value(1);\n\n  private handleActiveStateChange = (active: boolean) => {\n    if (Platform.OS !== 'android') {\n      Animated.spring(this.opacity, {\n        stiffness: 1000,\n        damping: 500,\n        mass: 3,\n        overshootClamping: true,\n        restDisplacementThreshold: 0.01,\n        restSpeedThreshold: 0.01,\n        toValue: active ? this.props.activeOpacity : 1,\n        useNativeDriver: true,\n      }).start();\n    }\n\n    this.props.onActiveStateChange && this.props.onActiveStateChange(active);\n  };\n\n  render() {\n    const { children, style, enabled, ...rest } = this.props;\n\n    return (\n      <AnimatedBaseButton\n        {...rest}\n        onActiveStateChange={this.handleActiveStateChange}\n        style={[\n          style,\n          Platform.OS === 'ios' && enabled && { opacity: this.opacity },\n        ]}\n      >\n        {children}\n      </AnimatedBaseButton>\n    );\n  }\n}\n"]}